\section{Conclusion}\label{sec:conclusion}
Migration between different configuration management systems is a valid use case for large installations. Puppet origins from 2005 and Ansible origins from 2012. The architecture of these two systems is totally different but Puppet and Ansible are the most used CMS's used. As seen in chapter \ref{ch:relatedwork} a lot of companies are migrating away from puppet because the systems tends to end up into spaghetti code \cite{movingawayfrompuppet} where the same result could be created by newer systems with less code. According to Ryan Lane \cite{movingawayfrompuppet} the puppet code was ten thousand lines where the same result was achieved by 1000 lines of Ansible code. Using a CMS within a small company is not usefull since the CMS also needs to be maintained by the system administrator (SA). Using a CMS allows an SA to fix system bugs like shellshock within a couple of minutes on all managed servers as shown in code snippet \ref{lst:shellshock}.

For the migration between systems with a different architecture as the example in this paper. Migrating from Puppet to Ansible needs to be triggered from the puppet server. Therefore jobs for the Ansible server, adding hosts to the hosts file and running a specific playbook needs to be initialized by the Puppet master, So the Puppet client need to be installed on the Ansible server. To be able to execute this, the privileged user needs to be present on both CMS's. Ansible uses its certificate to connect to remote clients. When a password is used to generate the private key this password needs to be entered when a playbook is executed. Therefore a private key without password should be used during migration.   


% ups and downs of puppet and ansible
% Puppet runs task out of order. so index.html could be written before apache is installed and therefore apache will overwrite
% ansible only runs when playbook is fired
% Ansible stops entire sequence when one job failes . puppet continues. 
% ansible is in the kern simpler


\section{Discussion}\label{sec:discussion}
% Talk about use cases for running configuration management tools in parralel
During this project we have performed an in place migration from Puppet to Ansible and vice versa with a single CMS managing the whole infrastructure as a result. Arguably, there are use cases in which both systems can coexist with varying purposes in mind. Villamil \cite{} for example argues that Ansible is more suitable for server deployments and installation whereas Puppet excels in defining an end state for a system. From a technical standpoint, such a 'migration trajectory' is significantly easier as it omits the automated removal step from the migration strategy as portrayed in section \ref{sec:methodology}. Additionally, some companies might employ an immutability concept when deploying servers. In such a scenario, when configuration changes have to occur, the source configuration changes to the server would require the template to be redefined, and thus the server to  be deployed again. Such a migration could be done by gradually decommisioning systems from the old 

However, an in place migration is significantly more preferable when the amount of servers to be migrated is large.  
Arguably, there are use cases in which 


When a company applis a concept of immutability when deploying servers, any form of configuration change would require rok 

http://t37.net/should-i-use-ansible-or-puppet-short-answer-both.html
