\section{Conclusion}\label{sec:conclusion}
When corporate merges take place, the IT department is commonly one of the first departments that needs to merge. As IT environments are continuously growing in size and complexity these merges come with great challenges, especially when a core component like a configuration management system has to be merged. This paper looks into migrating nodes between configuration management systems for server management in case of a corporate merge scenario. A method for performing an in place migration between a pull- and a push-based configuration management system is presented. More specifically, the implications of migrating a node from being managed by Puppet to Ansible and vice versa are examined. During this process the prerequisites for performing an automated migration are identified. Additionally the current state of the relatively new and distributed configuration management system \texttt{mgmt} is assesed and the possibilities of migrating to this system in the future are discussed.

In order to perform a successful automated in-place migration  a migration model based on a friendly takeover is proposed. In this model the legacy system gradually removes itself prior to the new CMS taking over the nodes. During the project a virtual lab environment has been set up to verify whether the proposed model works in practice. Ansible playbooks and Puppet modules have been defined which can perform this migration in an automated fashion. The main advantages of utilizing the proposed method is that at no point in time the nodes to be migrated become unmanaged. Moreover, by performing a friendly takeover a clean migration whilst maintaining proper error reporting can be achieved. Technical constraints during the migration could easily be overcome which makes the model a good framework for this specific type of merge. 

With regards to \texttt{mgmt} our experiments show that this prototype CMS introduces significant advantages over traditional configuration management systems. However, due to its prototype status a full migration path at this point in time is not feasible. Scalability and stability experiments have to be performed prior to fully deploying the software in a large scale production environment. Still, developments are moving forward rapidly and the language used by \texttt{mgmt} is similar to Ansible. This means that in the near future a natural migration path from a push based system to a distributed system becomes feasible. We conclude on the notion that an in place migration on production machines is feasible without any perceivable effect for end users by leveraging the migration model as presented in this report. However, performing any kind of migration between configuration management systems is heavily dependent on the architectural model of the tool in place. Therefore, extrapolating the migration model as presented in this report to a generic model would be ill advised. 


\subsection{Future Work}\label{subsec:futurework}
Although this report does not primarily focus on migrating to \texttt{mgmt}, it is undeniably an impressive development. As this new configuration management system is still in an experimental phase, it does not have a definitive Domain Specific Language in place yet which means that migrating to a distributed CMS would be too risky for now. However, when the development of \texttt{mgmt} takes on a more permanent form, it would be interesting to see how a migration from a Client-Server CMS like Puppet or Ansible to \texttt{mgmt} would play out. Frank \cite{frank_2016} provides a starting point for transpiling Puppet modules to \texttt{mgmt} resource graphs by using a series of complex regular expressions. However, further investigation on streamlining this process is required.

Additionally, this research looked into only a small part of migrating a corporate IT infrastructure between Puppet and Ansible. We opted to migrate an Apache web server, as this product has extensive documentation and was readily available. The methodology posed was able to perform an in-place migration without any downtime. However, in order to do so the Puppet module had to be manually converted to an Ansible playbook and vice versa. To speed up migrations it would be beneficial to automate this conversion process. Work is currently being done by Nigmatullin and Van Dijk \cite{marat_2016} to automate the creation of these playbooks and modules from a static configuration, but it would be advisable to perform a consistency and stability analysis of this method prior to applying it in a production environment. 

Lastly, we primarily focused on managing generic virtual machine instances with Puppet and Ansible and did not take (Docker) containerization into consideration. Deploying Docker containers on a large scale is currently primarily being done via Dockerfiles, which contain a sequence of pre-defined commands in order to deploy a service with a given configuration. Scalability issues occur when the services to be deployed become overly complex and require a large set of commands. At that point they require relatively static and unmanageable Dockerfiles. Configuration management tools like the ones discussed in this report are currently working towards supporting fine-grained configuration management features for various types of container platforms. However, as such features become available the line between orchestration tools like Kubernetes \cite{kubernetes_2016} and configuration management systems becomes less obvious. It would be interesting to see how orchestration tools at this point in time relate to configuration management systems and whether a distinction would still be relevant in the near future.
